{%  extends "/front/base.html.twig" %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" type="text/css" href="https://uicdn.toast.com/tui-calendar/latest/tui-calendar.css" />
    <link rel="stylesheet" type="text/css" href="https://uicdn.toast.com/tui.date-picker/latest/tui-date-picker.css" />
    <link rel="stylesheet" type="text/css" href="https://uicdn.toast.com/tui.time-picker/latest/tui-time-picker.css" />
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="https://uicdn.toast.com/tui.code-snippet/latest/tui-code-snippet.min.js"></script>
    <script src="https://uicdn.toast.com/tui.time-picker/latest/tui-time-picker.min.js"></script>
    <script src="https://uicdn.toast.com/tui.date-picker/latest/tui-date-picker.min.js"></script>
    <script src="https://uicdn.toast.com/tui-calendar/latest/tui-calendar.js"></script>
    <script>
        var cal = new tui.Calendar('#calendar', {
            defaultView: 'week', // weekly view option
            taskView: false,
            scheduleView: ['time'],
            useCreationPopup: true,
            useDetailPopup: true,
            week: {
                daynames: ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'],
                startDayOfWeek: 1
            }
        });

        cal.createSchedules([
            {
                id: '1',
                calendarId: '1',
                title: 'Rendez-vous',
                location: 'Nissa la bella',
                category: 'time',
                dueDateClass: '',
                start: '2021-08-18T14:30:00+02:00',
                end: '2021-08-18T16:30:00+02:00',
                bgColor: '#eb008a'
            },
            {
                id: '2',
                calendarId: '1',
                title: 'Collision',
                category: 'time',
                dueDateClass: '',
                start: '2021-08-18T15:30:00+02:00',
                end: '2021-08-18T17:30:00+02:00'
            }
        ])

        cal.on({
            'clickSchedule': function (e) {
                console.log('clickSchedule', e);
            },
            'beforeCreateSchedule': function (e) {
                console.log('beforeCreateSchedule', e);
                // open a creation popup
            },
            'beforeUpdateSchedule': function (e) {
                console.log('beforeUpdateSchedule', e);
                e.schedule.start = e.start;
                e.schedule.end = e.end;
                cal.updateSchedule(e.schedule.id, e.schedule.calendarId, e.schedule);
            },
            'beforeDeleteSchedule': function (e) {
                console.log('beforeDeleteSchedule', e);
                cal.deleteSchedule(e.schedule.id, e.schedule.calendarId);
            }
        });

    </script>
{% endblock %}

{% block content %}
    <div id="calendar"></div>
{% endblock %}